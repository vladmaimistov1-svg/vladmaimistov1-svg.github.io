<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>–í–∏—à–ª–∏—Å—Ç –ø–æ–¥–∞—Ä–∫–æ–≤</title>
  <meta name="color-scheme" content="light only" />
  <style>
    :root{
      --bg:#f8fafc;
      --card:#ffffff;
      --text:#1f2937;
      --muted:#6b7280;
      --primary:#a78bfa;   /* —Å–≤–µ—Ç–ª–∞—è —Å–∏—Ä–µ–Ω—å */
      --primary-2:#c4b5fd; /* —á—É—Ç—å —Å–≤–µ—Ç–ª–µ–µ */
      --accent:#86efac;    /* –∑–µ–ª—ë–Ω—ã–π –∞–∫—Ü–µ–Ω—Ç */
      --warn:#facc15;      /* –Ω–µ–π—Ç—Ä–∞–ª—å–Ω–∞—è –ø–ª–∞—à–∫–∞ "–∑–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–æ" */
      --shadow: 0 10px 20px rgba(17,24,39,.06), 0 2px 6px rgba(17,24,39,.06);
      --radius:16px;
      --radius-sm:12px;
    }
    *{box-sizing:border-box}
    html,body{margin:0;height:100%;background:linear-gradient(180deg,#f8fafc, #f5f3ff 35%, #f8fafc 100%);font:16px/1.5 system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial}
    header{
      position:sticky; top:0; z-index:5;
      background:rgba(255,255,255,.72); backdrop-filter: blur(10px);
      border-bottom:1px solid rgba(0,0,0,.04);
    }
    .wrap{max-width:1100px;margin:0 auto;padding:22px 16px}
    .title{font-size:clamp(22px,2.8vw,34px);font-weight:800;color:var(--text);letter-spacing:.2px}
    .subtitle{color:var(--muted);margin-top:6px}
    .bar{
      display:flex; gap:16px; align-items:center; flex-wrap:wrap; margin-top:16px
    }
    .countdown{
      display:inline-flex; align-items:center; gap:8px; padding:10px 14px;
      background:linear-gradient(180deg, var(--primary-2), #e9d5ff);
      color:#2b2145; border-radius:var(--radius-sm); box-shadow:var(--shadow);
      font-variant-numeric: tabular-nums;
    }
    .countdown b{font-weight:800;letter-spacing:.5px}
    .search{
      flex:1; min-width:220px; display:flex; align-items:center; gap:8px;
      background:var(--card); border-radius:var(--radius-sm); box-shadow:var(--shadow);
      border:1px solid rgba(0,0,0,.05); padding:10px 12px;
    }
    .search input{
      border:none; outline:none; background:transparent; width:100%;
      font-size:15px; color:var(--text)
    }
    .search input::placeholder{color:#9aa1ad}
    main{padding:26px 16px 60px}
    .grid{
      --min:280px;
      display:grid; gap:18px;
      grid-template-columns: repeat(auto-fit, minmax(var(--min),1fr));
    }
    article.card{
      background:var(--card); border-radius:var(--radius); box-shadow:var(--shadow);
      border:1px solid rgba(0,0,0,.05); overflow:hidden; display:flex; flex-direction:column;
      transition: transform .15s ease, box-shadow .15s ease;
    }
    article.card:focus-within, article.card:hover{transform:translateY(-2px); box-shadow: 0 14px 28px rgba(17,24,39,.10), 0 8px 12px rgba(17,24,39,.06)}
    .thumb{
      aspect-ratio: 16/9; width:100%; background:linear-gradient(135deg,#f5f3ff,#e0f2fe);
      display:flex; align-items:center; justify-content:center;
    }
    .thumb img{width:100%; height:100%; object-fit:cover; display:block}
    .placeholder{
      width:72px; height:72px; border-radius:18px;
      background: conic-gradient(from 180deg at 50% 50%, #c7d2fe, #a7f3d0, #fbcfe8, #c7d2fe);
      box-shadow: inset 0 0 0 6px rgba(255,255,255,.7);
    }
    .body{padding:16px 16px 8px}
    .title-row{display:flex; align-items:start; justify-content:space-between; gap:10px}
    .gift-title{font-weight:700; color:var(--text); font-size:18px; margin:0}
    .price{color:#374151; font-weight:700}
    .desc{color:var(--muted); margin:8px 0 0; min-height:36px}
    .status{
      margin-top:10px; display:inline-flex; gap:8px; align-items:center;
      font-size:13px; color:#3f3f46; background:#fff7cc; border:1px dashed #f1c40f;
      padding:6px 10px; border-radius:999px;
    }
    .status.ok{background:#e8fff0; border-color:#22c55e; color:#14532d}
    .footer{
      margin-top:auto; padding:12px 16px 16px; display:flex; flex-wrap:wrap; gap:10px;
      align-items:center; justify-content:space-between
    }
    .actions{display:flex; gap:10px; flex-wrap:wrap}
    .btn{
      appearance:none; border:none; cursor:pointer;
      padding:10px 14px; border-radius:999px; font-weight:700; letter-spacing:.2px;
      transition: transform .08s ease, box-shadow .12s ease, background .2s ease, color .2s ease;
      box-shadow:var(--shadow); outline-offset:2px;
    }
    .btn:active{transform:translateY(1px)}
    .btn:focus-visible{outline:3px solid #a7f3d0}
    .btn.primary{background:var(--primary); color:#2b2145}
    .btn.primary:hover{background:#bca7ff}
    .btn.link{background:#eef2ff}
    .btn.link:hover{background:#e0e7ff}
    .btn[disabled]{opacity:.55; cursor:not-allowed; transform:none}
    .hint{font-size:12px; color:#6b7280}
    .sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}
    /* –∞–¥–∞–ø—Ç–∏–≤ –º–µ–ª–æ—á–∏ */
    @media (max-width:420px){
      .footer{flex-direction:column; align-items:stretch}
      .actions{justify-content:space-between}
      .btn{width:100%}
    }
  </style>
</head>
<body>
  <header>
    <div class="wrap" role="banner">
      <h1 class="title">–ò–¥–µ–∏ –¥–ª—è –ø–æ–¥–∞—Ä–∫–æ–≤ –∫ –º–æ–µ–º—É –î–Ω—é —Ä–æ–∂–¥–µ–Ω–∏—è</h1>
      <p class="subtitle">–ê–Ω–æ–Ω–∏–º–Ω–∞—è –±—Ä–æ–Ω—å –±–µ–∑ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏. –°–æ—Å—Ç–æ—è–Ω–∏–µ –≤–∏–¥–Ω–æ –≤—Å–µ–º –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏.</p>
      <div class="bar" aria-label="–ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è">
        <div class="countdown" id="countdown" aria-live="polite">
          <span>–î–æ 13.11.2025 –æ—Å—Ç–∞–ª–æ—Å—å</span> <b id="count-val">--:--:--:--</b>
        </div>
        <label class="search" aria-label="–ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é">
          <svg width="18" height="18" viewBox="0 0 24 24" aria-hidden="true"><path fill="currentColor" d="M21 21l-4.3-4.3m1.6-4.3a7 7 0 11-14 0 7 7 0 0114 0z" opacity=".6"/></svg>
          <input id="search" type="search" placeholder="–ù–∞–π—Ç–∏ –ø–æ–¥–∞—Ä–æ–∫‚Ä¶" autocomplete="off" />
        </label>
      </div>
    </div>
  </header>

  <main class="wrap" role="main">
    <section aria-labelledby="list-heading">
      <h2 id="list-heading" class="sr-only">–°–ø–∏—Å–æ–∫ –ø–æ–¥–∞—Ä–∫–æ–≤</h2>
      <div id="grid" class="grid" aria-live="polite"></div>
    </section>
  </main>

  <!-- Firebase + –ª–æ–≥–∏–∫–∞ (–º–æ–¥—É–ª—å) -->
  <script type="module">
    /* ===========================
       üîß Firebase SDK (Web v9)
       ===========================
       1) –í—Å—Ç–∞–≤—å—Ç–µ –°–í–û–ô –∫–æ–Ω—Ñ–∏–≥ –Ω–∏–∂–µ.
       2) –û—Ç–∫—Ä–æ–π—Ç–µ index.html –ª–æ–∫–∞–ª—å–Ω–æ (–¥–≤–æ–π–Ω–æ–π –∫–ª–∏–∫) ‚Äî –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ —Å–±–æ—Ä—â–∏–∫–æ–≤.
       3) –í –∫–æ–Ω—Å–æ–ª–∏ Firebase -> Firestore —Å–æ–∑–¥–∞–π—Ç–µ –∫–æ–ª–ª–µ–∫—Ü–∏—é "gifts".
    */
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-app.js";
    import {
      getFirestore, collection, doc, onSnapshot, query, orderBy,
      runTransaction, serverTimestamp, addDoc, getDocs
    } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore.js";

    // ‚ö†Ô∏è –ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ —Å–≤–æ–∏ –∑–Ω–∞—á–µ–Ω–∏—è –∏–∑ Firebase Console
    const firebaseConfig = {
      apiKey: "AIzaSyC3JF9X-2eTHtErd8gm-haUdVURclERDRw",
      authDomain: "hb25-ba1e4.firebaseapp.com",
      projectId: "hb25-ba1e4",
      storageBucket: "hb25-ba1e4.firebasestorage.app",
      messagingSenderId: "628327577299",
      appId: "1:628327577299:web:7d9b0ae4a761cde3040626",
    };

    const app = initializeApp(firebaseConfig);
    const db  = getFirestore(app);
    const giftsRef = collection(db, "gifts");

    /* ===========================
       üîí –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ (–Ω–∞–±—Ä–æ—Å–æ–∫)
       –í—Å—Ç–∞–≤—å—Ç–µ –≤ Firestore Rules (Console):
       
       rules_version = '2';
       service cloud.firestore {
         match /databases/{database}/documents {
           match /gifts/{giftId} {
             allow read: if true;
             // –†–∞–∑—Ä–µ—à–∞–µ–º –æ–±–Ω–æ–≤–ª—è—Ç—å –¢–û–õ–¨–ö–û –ø–æ–ª—è reserved, reservedAt, reservedByDevice
             // –∏ —Å—Ç—Ä–æ–≥–æ –ø–æ —Å—Ü–µ–Ω–∞—Ä–∏—è–º "–∑–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å" –∏ "—Å–Ω—è—Ç—å —Å–≤–æ—é –±—Ä–æ–Ω—å".
             allow update: if
               request.resource.data.diff(resource.data).changedKeys()
                 .hasOnly(['reserved','reservedAt','reservedByDevice']) &&
               (
                 // –ø–æ—Å—Ç–∞–≤–∏—Ç—å –±—Ä–æ–Ω—å, –µ—Å–ª–∏ –µ—ë –Ω–µ –±—ã–ª–æ
                 (!resource.data.reserved == true && request.resource.data.reserved == true)
                 ||
                 // —Å–Ω—è—Ç—å –±—Ä–æ–Ω—å –º–æ–∂–µ—Ç —Ç–æ–ª—å–∫–æ —Ç–æ—Ç –∂–µ deviceId
                 (resource.data.reserved == true && request.resource.data.reserved == false &&
                  resource.data.reservedByDevice == request.resource.data.reservedByDevice)
               );
             allow create, delete: if false;
           }
         }
       }
    =========================== */

    /* ===========================
       üÜî –ê–Ω–æ–Ω–∏–º–Ω—ã–π –ø—Å–µ–≤–¥–æ-ID —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
    =========================== */
    const DEVICE_KEY = "wishlist_device_id";
    let deviceId = localStorage.getItem(DEVICE_KEY);
    if (!deviceId) {
      deviceId = (crypto?.randomUUID?.() || Math.random().toString(36).slice(2) + Date.now());
      localStorage.setItem(DEVICE_KEY, deviceId);
    }

    /* ===========================
       ‚è≥ –û–±—Ä–∞—Ç–Ω—ã–π –æ—Ç—Å—á—ë—Ç –¥–æ 2025-11-13 00:00 –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏
    =========================== */
    const TARGET_ISO = "2025-11-13T00:00:00";
    const target = new Date(TARGET_ISO);
    const countEl = document.getElementById("count-val");
    const cdWrap = document.getElementById("countdown");
    let timerId;

    function pad(n){ return String(n).padStart(2,"0"); }
    function tick(){
      const now = new Date();
      const diff = target.getTime() - now.getTime();
      if (diff <= 0){
        clearInterval(timerId);
        cdWrap.innerHTML = `<b>–° –¥–Ω—ë–º —Ä–æ–∂–¥–µ–Ω–∏—è!</b>`;
        return;
      }
      const days = Math.floor(diff / (1000*60*60*24));
      const hrs  = Math.floor((diff % (1000*60*60*24)) / (1000*60*60));
      const mins = Math.floor((diff % (1000*60*60)) / (1000*60));
      const secs = Math.floor((diff % (1000*60)) / 1000);
      countEl.textContent = `${pad(days)}:${pad(hrs)}:${pad(mins)}:${pad(secs)}`;
    }
    timerId = setInterval(tick, 1000); tick();

    /* ===========================
       üîé –ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é
    =========================== */
    const searchInput = document.getElementById("search");
    let searchTerm = "";
    searchInput.addEventListener("input", (e)=> {
      searchTerm = e.target.value.trim().toLowerCase();
      render(allGifts); // –±—ã—Å—Ç—Ä–æ–µ –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–µ —Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω–∏–µ
    });

    /* ===========================
       üß© –†–µ–Ω–¥–µ—Ä –∫–∞—Ä—Ç–æ—á–µ–∫
    =========================== */
    const grid = document.getElementById("grid");
    let allGifts = [];

    function createCard(gift) {
  const { id, title, description, price, link, image, reserved, reservedByDevice } = gift;
  const canReserve = gift.canReserve !== false; // –µ—Å–ª–∏ –ø–æ–ª—è –Ω–µ—Ç ‚Äî –±—Ä–æ–Ω—å —Ä–∞–∑—Ä–µ—à–µ–Ω–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
  const isMine = reserved && reservedByDevice === deviceId;

  const card = document.createElement("article");
  card.className = "card";
  card.tabIndex = 0;
  card.setAttribute("aria-label", title);

  // üîπ –§–æ—Ç–æ / –ü–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä
  const thumb = document.createElement("div");
  thumb.className = "thumb";
  if (image) {
    const img = document.createElement("img");
    img.src = image;
    img.alt = title;
    img.loading = "lazy";
    thumb.appendChild(img);
  } else {
    const ph = document.createElement("div");
    ph.className = "placeholder";
    ph.setAttribute("aria-hidden", "true");
    thumb.appendChild(ph);
  }

  // üîπ –û—Å–Ω–æ–≤–Ω–æ–π –±–ª–æ–∫
  const body = document.createElement("div");
  body.className = "body";

  const row = document.createElement("div");
  row.className = "title-row";
  const h3 = document.createElement("h3");
  h3.className = "gift-title";
  h3.textContent = title;
  const priceEl = document.createElement("div");
  priceEl.className = "price";
  priceEl.textContent = price ? `${price.toLocaleString()} ‚ÇΩ` : "";
  row.append(h3, priceEl);

  const p = document.createElement("p");
  p.className = "desc";
  p.textContent = description || "‚Äî";

  // üîπ –°—Ç–∞—Ç—É—Å –æ—Ç–æ–±—Ä–∞–∂–∞–µ–º —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –º–æ–∂–Ω–æ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å
if (canReserve) {
  const status = document.createElement("div");
  status.className = "status" + (reserved ? "" : " ok");
  status.innerHTML = reserved ? "–ó–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–æ" : "–°–≤–æ–±–æ–¥–Ω–æ";
  body.append(row, p, status);
} else {
  body.append(row, p); // –±–µ–∑ —Å—Ç–∞—Ç—É—Å–∞
}

  // üîπ –ù–∏–∂–Ω—è—è –ø–∞–Ω–µ–ª—å
  const footer = document.createElement("div");
  footer.className = "footer";

  const actions = document.createElement("div");
  actions.className = "actions";

  // üîó –ö–Ω–æ–ø–∫–∞ "–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å"
  // üîó –ö–Ω–æ–ø–∫–∞ "–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å" (–µ—Å–ª–∏ —Ä–∞–∑—Ä–µ—à–µ–Ω–æ)
const canView = gift.canView !== false; // –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é true
if (canView && link) {
  const view = document.createElement("a");
  view.className = "btn link";
  view.href = link;
  view.target = "_blank";
  view.rel = "noopener noreferrer";
  view.textContent = "–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å";
  view.setAttribute("aria-label", `–û—Ç–∫—Ä—ã—Ç—å —Å—Å—ã–ª–∫—É –Ω–∞ ¬´${title}¬ª`);
  actions.append(view);
}

  // üéÅ –ö–Ω–æ–ø–∫–∞ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è (—Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ canReserve = true)
  if (canReserve) {
    const book = document.createElement("button");
    book.type = "button";
    book.className = "btn primary";
    book.setAttribute("data-id", id);

    if (!reserved) {
      book.textContent = "–ó–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å";
      book.disabled = false;
    } else if (isMine) {
      book.textContent = "–°–Ω—è—Ç—å –±—Ä–æ–Ω—å";
      book.disabled = false;
    } else {
      book.textContent = "–£–∂–µ –∑–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–æ";
      book.disabled = true;
    }

    book.addEventListener("click", () => toggleReservation(id, reserved, isMine));
    actions.append(book);
  }

  // üî∏ –ü–æ–¥—Å–∫–∞–∑–∫–∞ –≤–Ω–∏–∑—É
  const hint = document.createElement("div");
  hint.className = "hint";
  hint.textContent = canReserve
    ? "–ë—Ä–æ–Ω—å –±–µ–∑ –∏–º–µ–Ω–∏, –≤–∏–¥–Ω–∞ –≤—Å–µ–º"
    : "–ë–µ–∑ –±—Ä–æ–Ω–∏ (–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–∞—è –∫–∞—Ä—Ç–æ—á–∫–∞)";

  footer.append(actions, hint);
  card.append(thumb, body, footer);

  return card;
}


    function render(list){
      // —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é
      const filtered = searchTerm
        ? list.filter(g => g.title?.toLowerCase().includes(searchTerm))
        : list;

      grid.innerHTML = "";
      if (filtered.length === 0){
        const empty = document.createElement("p");
        empty.style.color = "var(--muted)";
        empty.textContent = "–ù–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ.";
        grid.appendChild(empty);
        return;
      }
      filtered.forEach(g => grid.appendChild(createCard(g)));
    }

    /* ===========================
       üîÑ Realtime ‚Äî onSnapshot
    =========================== */
    onSnapshot(query(giftsRef, orderBy("title","asc")), (snap) => {
      allGifts = snap.docs.map(d => ({ id: d.id, ...d.data() }));
      render(allGifts);
    });

    /* ===========================
       üîÅ –¢–æ–≥–≥–ª –±—Ä–æ–Ω–∏ —á–µ—Ä–µ–∑ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é
       ‚Äî –∞—Ç–æ–º–∞—Ä–Ω–æ –∏ —á–µ—Å—Ç–Ω–æ –ø—Ä–∏ –≥–æ–Ω–∫–∞—Ö
    =========================== */
    async function toggleReservation(docId, currentlyReserved, isMine){
      const ref = doc(db, "gifts", docId);
      try {
        await runTransaction(db, async (tx) => {
          const snap = await tx.get(ref);
          if (!snap.exists()) throw new Error("–ü–æ–¥–∞—Ä–æ–∫ –Ω–µ –Ω–∞–π–¥–µ–Ω.");
          const data = snap.data();

          if (!data.reserved){
            // —Å—Ç–∞–≤–∏–º –±—Ä–æ–Ω—å
            tx.update(ref, {
              reserved: true,
              reservedAt: serverTimestamp(),
              reservedByDevice: deviceId
            });
          } else {
            // —É–∂–µ –∑–∞–Ω—è—Ç–æ
            if (data.reservedByDevice === deviceId){
              // —Å–Ω–∏–º–∞–µ–º —Å–≤–æ—é –±—Ä–æ–Ω—å
              tx.update(ref, {
                reserved: false,
                reservedAt: null,
                reservedByDevice: null
              });
            } else {
              throw new Error("–≠—Ç–æ—Ç –ø–æ–¥–∞—Ä–æ–∫ —É–∂–µ –∑–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω –¥—Ä—É–≥–∏–º —É—á–∞—Å—Ç–Ω–∏–∫–æ–º.");
            }
          }
        });
      } catch (e){
        alert(e.message || "–ù–µ —É–¥–∞–ª–æ—Å—å –æ–±–Ω–æ–≤–∏—Ç—å –±—Ä–æ–Ω—å. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â—ë —Ä–∞–∑.");
        console.error(e);
      }
    }

    /* ===========================
       üå± –î–µ–º–æ-–Ω–∞–ø–æ–ª–Ω–µ–Ω–∏–µ (–∑–∞–ø—É—Å–∫–∞—Ç—å –æ–¥–∏–Ω —Ä–∞–∑)
       1) –°–Ω–∏–º–∏—Ç–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ —Å –≤—ã–∑–æ–≤–∞ seedDemoGifts() –Ω–∏–∂–µ.
       2) –û–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É ‚Äî –¥–µ–º–æ-–∑–∞–ø–∏—Å–∏ –¥–æ–±–∞–≤—è—Ç—Å—è, –∑–∞—Ç–µ–º —Å–Ω–æ–≤–∞ –∑–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ –≤—ã–∑–æ–≤.
    =========================== */
    async function seedDemoGifts(){
      const demo = [
        { title:"–ë–µ–Ω—Ç–æ-—Ç–æ—Ä—Ç", description:"–ù–µ–∂–Ω—ã–π –∫—Ä–µ–º, 2‚Äì3 –Ω–∞–¥–ø–∏—Å–∏", price:1800, link:"https://example.com/cake", image:"", reserved:false, reservedAt:null, reservedByDevice:null },
        { title:"–¶–≤–µ—Ç—ã –≤ –ø–∞—Å—Ç–µ–ª—å–Ω—ã—Ö —Ç–æ–Ω–∞—Ö", description:"–†–æ–∑–æ–≤—ã–µ/–±–µ–∂–µ–≤—ã–µ –æ—Ç—Ç–µ–Ω–∫–∏", price:3500, link:"https://example.com/flowers", image:"", reserved:false, reservedAt:null, reservedByDevice:null },
        { title:"–í–æ–∑–¥—É—à–Ω—ã–µ —à–∞—Ä—ã", description:"–†–æ–∑–æ–≤—ã–π, –±–µ–ª—ã–π, —Å–µ—Ä–µ–±—Ä–æ", price:1500, link:"https://example.com/balloons", image:"", reserved:false, reservedAt:null, reservedByDevice:null },
        { title:"–ö–æ—Ä–æ–±–æ—á–∫–∞ —Å–æ —Å–ª–∞–¥–æ—Å—Ç—è–º–∏", description:"–ö–∞—Ä–∞–º–µ–ª—å–∫–∏, –∂–µ–≤–∞—Ç–µ–ª—å–Ω—ã–µ, —á—É—Ç—å –∫–∏—Å–ª–∏–Ω–∫–∏", price:1200, link:"https://example.com/candy", image:"", reserved:false, reservedAt:null, reservedByDevice:null },
        { title:"–ú–∏–ª—ã–π –∞–∫—Å–µ—Å—Å—É–∞—Ä", description:"–ß–µ—Ö–æ–ª/–±—Ä–µ–ª–æ–∫ –≤ –ø–∞—Å—Ç–µ–ª—å–Ω–æ–π –≥–∞–º–º–µ", price:900, link:"https://example.com/accessory", image:"", reserved:false, reservedAt:null, reservedByDevice:null },
        { title:"–ê—Ä–æ–º–∞—Å–≤–µ—á–∞", description:"–í–∞–Ω–∏–ª—å/—Ö–ª–æ–ø–æ–∫/–ø—É–¥—Ä–æ–≤—ã–µ –Ω–æ—Ç—ã", price:1400, link:"https://example.com/candle", image:"", reserved:false, reservedAt:null, reservedByDevice:null },
        { title:"–ü–ª–µ–¥-–ø–∞—Å—Ç–µ–ª—å", description:"–ú—è–≥–∫–∏–π, —É—é—Ç–Ω—ã–π, 130√ó170", price:2600, link:"https://example.com/blanket", image:"", reserved:false, reservedAt:null, reservedByDevice:null },
      ];
      // –ø—Ä–æ–ø—É—Å–∫–∞–µ–º, –µ—Å–ª–∏ —É–∂–µ –µ—Å—Ç—å –¥–∞–Ω–Ω—ã–µ
      const existing = await getDocs(giftsRef);
      if (!existing.empty) { alert("–ö–æ–ª–ª–µ–∫—Ü–∏—è 'gifts' –Ω–µ –ø—É—Å—Ç–∞—è ‚Äî —Å–∏–¥ –ø—Ä–æ–ø—É—â–µ–Ω."); return; }

      for (const g of demo) { await addDoc(giftsRef, g); }
      alert("–î–µ–º–æ-–ø–æ–¥–∞—Ä–∫–∏ –¥–æ–±–∞–≤–ª–µ–Ω—ã.");
    }
    // üëá –ó–∞–ø—É—Å–∫ —Å–∏–¥–µ—Ä–∞ –û–î–ò–ù –†–ê–ó –ø—Ä–∏ –ø–µ—Ä–≤–∏—á–Ω–æ–π –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏:
    // await seedDemoGifts();

  </script>
</body>
</html>
